<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎹 Piano Keys</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><span class="emoji">🎹</span> <span class="title-text">Piano Keys</span></h1>
            <p class="subtitle">点击琴键或使用键盘演奏</p>
        </header>

        <div class="piano-wrapper">
            <div class="piano" id="piano">
                <!-- 5个八度: C2 - C7 -->
                <div class="octave" data-octave="2">
                    <div class="key white" data-note="C2"><span>!</span></div>
                    <div class="key black" data-note="C#2"><span>@</span></div>
                    <div class="key white" data-note="D2"><span>#</span></div>
                    <div class="key black" data-note="D#2"><span>$</span></div>
                    <div class="key white" data-note="E2"><span>%</span></div>
                    <div class="key white" data-note="F2"><span>^</span></div>
                    <div class="key black" data-note="F#2"><span>&</span></div>
                    <div class="key white" data-note="G2"><span>*</span></div>
                    <div class="key black" data-note="G#2"><span>(</span></div>
                    <div class="key white" data-note="A2"><span>)</span></div>
                    <div class="key black" data-note="A#2"><span>_</span></div>
                    <div class="key white" data-note="B2"><span>+</span></div>
                </div>

                <div class="octave" data-octave="3">
                    <div class="key white" data-note="C3"><span>Z</span></div>
                    <div class="key black" data-note="C#3"><span>S</span></div>
                    <div class="key white" data-note="D3"><span>X</span></div>
                    <div class="key black" data-note="D#3"><span>D</span></div>
                    <div class="key white" data-note="E3"><span>C</span></div>
                    <div class="key white" data-note="F3"><span>V</span></div>
                    <div class="key black" data-note="F#3"><span>G</span></div>
                    <div class="key white" data-note="G3"><span>B</span></div>
                    <div class="key black" data-note="G#3"><span>H</span></div>
                    <div class="key white" data-note="A3"><span>N</span></div>
                    <div class="key black" data-note="A#3"><span>J</span></div>
                    <div class="key white" data-note="B3"><span>M</span></div>
                </div>

                <div class="octave" data-octave="4">
                    <div class="key white" data-note="C4"><span>Q</span></div>
                    <div class="key black" data-note="C#4"><span>2</span></div>
                    <div class="key white" data-note="D4"><span>W</span></div>
                    <div class="key black" data-note="D#4"><span>3</span></div>
                    <div class="key white" data-note="E4"><span>E</span></div>
                    <div class="key white" data-note="F4"><span>R</span></div>
                    <div class="key black" data-note="F#4"><span>5</span></div>
                    <div class="key white" data-note="G4"><span>T</span></div>
                    <div class="key black" data-note="G#4"><span>6</span></div>
                    <div class="key white" data-note="A4"><span>Y</span></div>
                    <div class="key black" data-note="A#4"><span>7</span></div>
                    <div class="key white" data-note="B4"><span>U</span></div>
                </div>

                <div class="octave" data-octave="5">
                    <div class="key white" data-note="C5"><span>I</span></div>
                    <div class="key black" data-note="C#5"><span>9</span></div>
                    <div class="key white" data-note="D5"><span>O</span></div>
                    <div class="key black" data-note="D#5"><span>0</span></div>
                    <div class="key white" data-note="E5"><span>P</span></div>
                    <div class="key white" data-note="F5"><span>[</span></div>
                    <div class="key black" data-note="F#5"><span>=</span></div>
                    <div class="key white" data-note="G5"><span>]</span></div>
                    <div class="key black" data-note="G#5"><span>\</span></div>
                    <div class="key white" data-note="A5"><span>A</span></div>
                    <div class="key black" data-note="A#5"><span>L</span></div>
                    <div class="key white" data-note="B5"><span>F</span></div>
                </div>

                <div class="octave" data-octave="6">
                    <div class="key white" data-note="C6"><span>1</span></div>
                    <div class="key black" data-note="C#6"><span>4</span></div>
                    <div class="key white" data-note="D6"><span>8</span></div>
                    <div class="key black" data-note="D#6"><span>-</span></div>
                    <div class="key white" data-note="E6"><span>K</span></div>
                    <div class="key white" data-note="F6"><span>;</span></div>
                    <div class="key black" data-note="F#6"><span>'</span></div>
                    <div class="key white" data-note="G6"><span>,</span></div>
                    <div class="key black" data-note="G#6"><span>.</span></div>
                    <div class="key white" data-note="A6"><span>/</span></div>
                    <div class="key black" data-note="A#6"></div>
                    <div class="key white" data-note="B6"></div>
                </div>

                <div class="octave" data-octave="7">
                    <div class="key white" data-note="C7"></div>
                </div>
            </div>
        </div>

        <div class="controls">
            <!-- 左侧：当前音符 + 音色选择 + 提示按钮 -->
            <div class="left-panel">
                <div class="info-box">
                    <div class="current-note" id="currentNote">-</div>
                </div>
                <div class="tone-selector">
                    <label class="tone-label">🎵 音色</label>
                    <select class="tone-select" id="toneSelect">
                        <option value="triangle">三角波 (钢琴)</option>
                        <option value="sine">正弦波 (纯音)</option>
                        <option value="square">方波 (游戏)</option>
                        <option value="sawtooth">锯齿波 (电子)</option>
                    </select>
                </div>
                <button class="help-btn" id="helpBtn">💡 操作提示</button>
                <!-- 提示弹窗 -->
                <div class="tips-modal" id="tipsModal">
                    <div class="tips-content">
                        <button class="tips-close" id="tipsClose">×</button>
                        <h3 id="tipsTitle">💡 使用提示</h3>
                        <ul id="tipsList">
                            <li>点击琴键播放音符</li>
                            <li>按住琴键持续发声，松开停止</li>
                            <li>C3八度: Z S X D C V G B H N J M</li>
                            <li>C4八度: Q 2 W 3 E R 5 T 6 Y 7 U</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 中间：琴谱显示区域 -->
            <div class="center-panel">
                <div class="sheet-display" id="sheetDisplay">
                    <div class="sheet-placeholder">
                        <span class="placeholder-icon">🎼</span>
                        <span class="placeholder-text">选择一首曲目</span>
                    </div>
                </div>
                <div class="sheet-controls">
                    <button class="play-btn" id="playBtn" disabled>
                        <span class="play-icon">▶</span>
                        <span class="play-text">播放</span>
                    </button>
                    <button class="stop-btn" id="stopBtn" disabled>
                        <span class="stop-icon">■</span>
                        <span class="stop-text">停止</span>
                    </button>
                    <button class="notation-btn" id="notationBtn" title="切换显示模式">
                        <span class="notation-icon">⌨</span>
                        <span class="notation-text">按键</span>
                    </button>
                </div>
            </div>

            <!-- 右侧：预设琴谱 -->
            <div class="right-panel">
                <h3 class="panel-title">🎼 预设琴谱</h3>
                <div class="sheet-list">
                    <div class="sheet-item" data-sheet="twinkle">
                        <span class="sheet-icon">⭐</span>
                        <span class="sheet-name">小星星</span>
                    </div>
                    <div class="sheet-item" data-sheet="furElise">
                        <span class="sheet-icon">🎵</span>
                        <span class="sheet-name">致爱丽丝</span>
                    </div>
                    <div class="sheet-item" data-sheet="happyBirthday">
                        <span class="sheet-icon">🎂</span>
                        <span class="sheet-name">生日快乐</span>
                    </div>
                    <div class="sheet-item" data-sheet="canonInD">
                        <span class="sheet-icon">🎻</span>
                        <span class="sheet-name">卡农</span>
                    </div>
                    <div class="sheet-item" data-sheet="odeToJoy">
                        <span class="sheet-icon">🌟</span>
                        <span class="sheet-name">欢乐颂</span>
                    </div>
                    <div class="sheet-item" data-sheet="turkishMarch">
                        <span class="sheet-icon">🇹🇷</span>
                        <span class="sheet-name">土耳其进行曲</span>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Made with ❤️ using Web Audio API</p>
        </footer>
    </div>

    <!-- 旋转提示 -->
    <div class="rotate-hint" id="rotateHint">
        <div class="rotate-hint-icon">📱</div>
        <div class="rotate-hint-text">建议横屏使用</div>
        <div class="rotate-hint-sub">旋转手机以获得更好的演奏体验</div>
        <button class="rotate-hint-dismiss" id="rotateHintDismiss">继续使用竖屏</button>
    </div>
    <script src="../mainpage/js/fullScreen.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
